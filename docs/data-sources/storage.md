---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_storage Data Source - terraform-provider-upcloud"
subcategory: Storage
description: |-
  Provides information on UpCloud Block Storage https://upcloud.com/products/block-storage devices.
  Data source can be used to map storage to other resource based on the ID or just to read some other storage property like zone information. Storage types are: normal, backup, cdrom, and template.
---

# upcloud_storage (Data Source)

Provides information on UpCloud [Block Storage](https://upcloud.com/products/block-storage) devices.

Data source can be used to map storage to other resource based on the ID or just to read some other storage property like zone information. Storage types are: `normal`, `backup`, `cdrom`, and `template`.

## Example Usage

```terraform
# Build server with your latest custom image 
#
# Note that when applied new updated image will cause replacement of the old server (debian.example.tld) 
# with the new server created based on the updated image.This can cause posible data loss 
# if it hasn't been taken into account when planning the service.
data "upcloud_storage" "app_image" {
  type        = "template"
  name_regex  = "^app_image.*"
  most_recent = true
}

resource "upcloud_server" "example" {
  hostname = "debian.example.tld"
  zone     = "fi-hel1"

  network_interface {
    type = "public"
  }

  template {
    storage = data.upcloud_storage.app_image.id
  }
}

# Build only new servers with your latest custom image 
#
# Use the lifecycle meta-argument to ignore changes in server's template triggered by new image version
resource "upcloud_server" "example2" {
  hostname = "debian.example2.tld"
  zone     = "fi-hel1"

  network_interface {
    type = "public"
  }

  template {
    storage = data.upcloud_storage.app_image.id
  }

  lifecycle {
    ignore_changes = [template[0].storage]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional Attributes

- `access_type` (String) The access type of the storage, `public` or `private`.
- `id` (String) UUID of the storage.
- `most_recent` (Boolean, Deprecated) If more than one result is returned, use the most recent storage. This is only useful with private storages. Public storages might give unpredictable results.
- `name` (String, Deprecated) Exact name of the storage (same as title). Deprecated, use `title` instead.
- `name_regex` (String, Deprecated) Use regular expression to match storage name. Deprecated, use exact title or UUID instead.
- `title` (String) The title of the storage.
- `type` (String) The type of the storage.
- `zone` (String) The zone the storage is in, e.g. `de-fra1`.

### Read-Only

- `encrypt` (Boolean) Sets if the storage is encrypted at rest.
- `labels` (Map of String) User defined key-value pairs to classify the storage.
- `size` (Number) The size of the storage in gigabytes.
- `state` (String) Current state of the storage
- `system_labels` (Map of String) System defined key-value pairs to classify the storage. The keys of system defined labels are prefixed with underscore and can not be modified by the user.
- `tier` (String) The tier of the storage.
