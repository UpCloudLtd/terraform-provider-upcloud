---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_storage Data Source - terraform-provider-upcloud"
subcategory: ""
description: |-
  Returns storage resource information based on defined arguments.
  Data object can be used to map storage to other resource based on the ID or just to read some other storage property like zone information.Storage types are: normal, backup, cdrom, template
---

# upcloud_storage (Data Source)

Returns storage resource information based on defined arguments.  

Data object can be used to map storage to other resource based on the ID or just to read some other storage property like zone information.  
Storage types are: normal, backup, cdrom, template

## Example Usage

```terraform
# Build server with your latest custom image 
#
# Note that when applied new updated image will cause replacement of the old server (debian.example.tld) 
# with the new server created based on the updated image.This can cause posible data loss 
# if it hasn't been taken into account when planning the service.
data "upcloud_storage" "app_image" {
  type        = "template"
  name_regex  = "^app_image.*"
  most_recent = true
}

resource "upcloud_server" "example" {
  hostname = "debian.example.tld"
  zone     = "fi-hel1"

  network_interface {
    type = "public"
  }

  template {
    storage = data.upcloud_storage.app_image.id
  }
}

# Build only new servers with your latest custom image 
#
# Use the lifecycle meta-argument to ignore changes in server's template triggered by new image version
resource "upcloud_server" "example2" {
  hostname = "debian.example2.tld"
  zone     = "fi-hel1"

  network_interface {
    type = "public"
  }

  template {
    storage = data.upcloud_storage.app_image.id
  }

  lifecycle {
    ignore_changes = [template[0].storage]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **type** (String) Storage type (normal, backup, cdrom, template). Use 'favorite' as type to filter storages on the list of favorites.

### Optional

- **access_type** (String) Storage access type (public, private)
- **id** (String) The ID of this resource.
- **most_recent** (Boolean) If more than one result is returned, use the most recent storage. This is only useful with private storages. Public storages might give unpredictable results.
- **name** (String) Exact name of the storage (same as title)
- **name_regex** (String) Use regular expression to match storage name
- **zone** (String) The zone in which the storage resides

### Read-Only

- **size** (Number) Size of the storage in gigabytes
- **state** (String) Current state of the storage
- **tier** (String) Storage tier in use
- **title** (String) Title of the storage


