---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_server_group Resource - terraform-provider-upcloud"
subcategory: Servers
description: |-
  Server groups allow grouping servers and defining anti-affinity for the servers.
---

# upcloud_server_group (Resource)

Server groups allow grouping servers and defining anti-affinity for the servers.

## Example Usage

```terraform
resource "upcloud_server_group" "main" {
  title                = "main_group"
  anti_affinity_policy = "yes"
  labels = {
    "key1" = "val1"
    "key2" = "val2"
    "key3" = "val3"
  }
  members = [
    "00b51165-fb58-4b77-bb8c-552277be1764",
    "00d56575-3821-3301-9de4-2b2bc7e35pqf",
    "000012dc-fe8c-a3y6-91f9-0db1215c36cf"
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required Attributes

- `title` (String) Title of your server group

### Optional Attributes

- `anti_affinity_policy` (String) Defines if a server group is an anti-affinity group. Setting this to `strict` or `yes` will
	result in all servers in the group being placed on separate compute hosts. The value can be `strict`, `yes`, or `no`.

	* `strict` policy doesn't allow servers in the same server group to be on the same host
	* `yes` refers to best-effort policy and tries to put servers on different hosts, but this is not guaranteed
	* `no` refers to having no policy and thus no effect on server host affinity

	To verify if the anti-affinity policies are met by requesting a server group details from API. For more information
	please see UpCloud API documentation on server groups.

	Plese also note that anti-affinity policies are only applied on server start. This means that if anti-affinity
	policies in server group are not met, you need to manually restart the servers in said group,
	for example via API, UpCloud Control Panel or upctl (UpCloud CLI)
- `labels` (Map of String) User defined key-value pairs to classify the server group.
- `members` (Set of String) UUIDs of the servers that are members of this group. Servers can also be attached to the server group via `server_group` property of `upcloud_server`. See also `track_members` property.
- `track_members` (Boolean) Controls if members of the server group are being tracked in this resource. Set to `false` when using `server_group` property of `upcloud_server` to attach servers to the server group to avoid delayed state updates.

### Read-Only

- `id` (String) UUID of the server group.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import upcloud_server_group.main ead4544f-10bf-42a3-b98a-a0fea2e2ad14
```
