---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_server Resource - terraform-provider-upcloud"
subcategory: ""
description: |-
  Manages UpCloud Servers
---

# upcloud_server (Resource)

The UpCloud server resource allows the creation, update and deletion of a
server.

## Example

### Basic

```hcl
resource "upcloud_server" "example" {
  hostname = "terraform.example.tld"
  zone     = "de-fra1"
  plan     = "1xCPU-1GB"

  template {
    storage = "Ubuntu Server 20.04 LTS (Focal Fossa)"
    size    = 25

    backup_rule {
      interval  = "daily"
      time      = "0100"
      retention = 8
    }
  }

  network_interface {
    type = "public"
  }

  login {
    user = "myusername"

    keys = [
      "<YOUR SSH PUBLIC KEY>",
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **hostname** (String) A valid domain name
- **network_interface** (Block List, Min: 1) One or more blocks describing the network interfaces of the server. (see [below for nested schema](#nestedblock--network_interface))
- **zone** (String) The zone in which the server will be hosted

### Optional

- **cpu** (Number) The number of CPU for the server
- **firewall** (Boolean) Are firewall rules active for the server
- **host** (Number) Use this to start the VM on a specific host. Refers to value from host -attribute. Only available for private cloud hosts
- **id** (String) The ID of this resource.
- **login** (Block Set, Max: 1) Configure access credentials to the server (see [below for nested schema](#nestedblock--login))
- **mem** (Number) The size of memory for the server (in megabytes)
- **metadata** (Boolean) Is the metadata service active for the server
- **plan** (String) The pricing plan used for the server
- **storage_devices** (Block Set) A list of storage devices associated with the server (see [below for nested schema](#nestedblock--storage_devices))
- **tags** (List of String) The server related tags
- **template** (Block List, Max: 1) Block describing the preconfigured operating system (see [below for nested schema](#nestedblock--template))
- **user_data** (String) Defines URL for a server setup script, or the script body itself
- **simple_backup** (Block Set, Max: 1) Configure simple backup rule for the server (see [below for nested schema](#nestedblock--simple_backup))

### Read-Only

- **title** (String) A short, informational description

<a id="nestedblock--network_interface"></a>
### Nested Schema for `network_interface`

Required:

- **type** (String) Network interface type. For private network interfaces, a network must be specified with an existing network id.

Optional:

- **bootable** (Boolean) `true` if this interface should be used for network booting.
- **ip_address** (String) The assigned IP address.
- **ip_address_family** (String) The IP address type of this interface (one of `IPv4` or `IPv6`).
- **network** (String) The unique ID of a network to attach this network to.
- **source_ip_filtering** (Boolean) `true` if source IP should be filtered.

Read-Only:

- **ip_address_floating** (Boolean) `true` is a floating IP address is attached.
- **mac_address** (String) The assigned MAC address.


<a id="nestedblock--login"></a>
### Nested Schema for `login`

Optional:

- **create_password** (Boolean) Indicates a password should be create to allow access
- **keys** (List of String) A list of ssh keys to access the server
- **password_delivery** (String) The delivery method for the serverâ€™s root password
- **user** (String) Username to be create to access the server


<a id="nestedblock--storage_devices"></a>
### Nested Schema for `storage_devices`

Required:

- **storage** (String) A valid storage UUID

Optional:

- **address** (String) The device address the storage will be attached to. Specify only the bus name (ide/scsi/virtio) to auto-select next available address from that bus.
- **type** (String) The device type the storage will be attached as


<a id="nestedblock--template"></a>
### Nested Schema for `template`

Required:

- **storage** (String) A valid storage UUID or template name

Optional:

- **address** (String) The device address the storage will be attached to. Specify only the bus name (ide/scsi/virtio) to auto-select next available address from that bus.
- **backup_rule** (Block List, Max: 1) The criteria to backup the storage (see [below for nested schema](#nestedblock--template--backup_rule))
- **size** (Number) The size of the storage in gigabytes
- **title** (String) A short, informative description

Read-Only:

- **id** (String) The unique identifier for the storage
- **tier** (String) The storage tier to use

<a id="nestedblock--template--backup_rule"></a>
### Nested Schema for `template.backup_rule`

Required:

- **interval** (String) The weekday when the backup is created
- **retention** (Number) The number of days before a backup is automatically deleted
- **time** (String) The time of day when the backup is created

<a id="nestedblock--simple_backup"></a>
### Nested Schema for `simple_backup`

Required:

- **plan** (String) Simple backup plan. One of "dailies", "weeklies", "monthlies"
- **time** (String) Exact time at which the backup should be taken, in hhmm format (eg. "2200")

Notes:

The idea behind simple backups is to provide a simplified way of backing up *all* of the storages attached to a given server. This means you cannot have simple backup set for a server,
and then some individual `backup_rule`s on the storages attached to said server. Such configuration will throw an error during execution. This also apply to `backup_rule`s set for server templates.

Also, due to how UpCloud API works with simple backups and how Terraform orders the update operations, it is advised to never switch between `simple_backup` on the server and individual storages `backup_rule`s in one apply.
If you want to switch from using server simple backup to per-storage defined backup rules, please first remove `simple_backup` block from a server, run `terraform apply`, then add `backup_rule` to desired storages and run `terraform apply` again.

## Import

Existing UpCloud servers can be imported into the current Terraform state
by using the UUID.

```hcl
  terraform import upcloud_server.example_server ead4544f-10bf-42a3-b98a-a0fea2e2ad14
```
