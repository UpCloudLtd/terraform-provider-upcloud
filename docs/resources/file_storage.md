---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_file_storage Resource - terraform-provider-upcloud"
subcategory: File Storage
description: |-
  Resource for managing UpCloud file storages (EXPERIMENTAL)
---

# upcloud_file_storage (Resource)

Resource for managing UpCloud file storages (EXPERIMENTAL)

## Example Usage

```terraform
// Create network for the File Storage
resource "upcloud_network" "this" {
  name = "file-storage-net-test"
  zone = "fi-hel2"

  ip_network {
    address = "172.16.8.0/24"
    dhcp    = true
    family  = "IPv4"
  }
}

resource "upcloud_file_storage" "example" {
  name              = "example-file-storage-test"
  size              = 250
  zone              = "fi-hel2"
  configured_status = "stopped"

  labels = {
    environment = "staging"
    customer    = "example-customer"
  }

  share {
    name = "write-to-project"
    path = "/project"
    acl {
      target     = "172.16.8.12"
      permission = "rw"
    }
  }

  network {
    family     = "IPv4"
    name       = "example-private-net"
    uuid       = upcloud_network.this.id
    ip_address = "172.16.8.11"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required Attributes

- `configured_status` (String) The service configured status indicates the service's current intended status. Managed by the customer.
- `name` (String) Name of the file storage service.
- `size` (Number) Size of the file storage in GB.
- `zone` (String) Zone in which the service will be hosted, e.g. `fi-hel1`. You can list available zones with `upctl zone list`.

### Optional Attributes

- `labels` (Map of String) User defined key-value pairs to classify the file storage.

### Blocks

- `network` (Block Set) Network attached to this file storage (currently supports at most one of these blocks). (see [below for nested schema](#nestedblock--network))
- `share` (Block Set) List of shares exported by this file storage. (see [below for nested schema](#nestedblock--share))

### Read-Only

- `id` (String) UUID of the file storage.

<a id="nestedblock--network"></a>
### Nested Schema for `network`

Required Attributes:

- `family` (String) IP family, e.g. IPv4.
- `name` (String) Attachment name (unique per this service).
- `uuid` (String) UUID of an existing private network to attach.

Optional Attributes:

- `ip_address` (String) IP address to assign (optional, auto-assign otherwise).


<a id="nestedblock--share"></a>
### Nested Schema for `share`

Required Attributes:

- `name` (String) Unique name of the share (1–64 chars).
- `path` (String) Absolute path exported by the share (e.g. `/public`).

Blocks:

- `acl` (Block Set) Access control entries (1–50). (see [below for nested schema](#nestedblock--share--acl))

<a id="nestedblock--share--acl"></a>
### Nested Schema for `share.acl`

Required Attributes:

- `permission` (String) Access level: 'ro' or 'rw'.
- `target` (String) Target IP/CIDR or '*'.
