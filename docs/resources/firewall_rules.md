---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_firewall_rules Resource - terraform-provider-upcloud"
subcategory: Servers
description: |-
  This resource represents a generated list of UpCloud firewall rules.
  Firewall rules are used in conjunction with UpCloud servers.
  Each server has its own firewall rules.
  The firewall is enabled on all network interfaces except ones attached to private virtual networks.
  The maximum number of firewall rules per server is 1000.
---

# upcloud_firewall_rules (Resource)

This resource represents a generated list of UpCloud firewall rules. 
		Firewall rules are used in conjunction with UpCloud servers. 
		Each server has its own firewall rules. 
		The firewall is enabled on all network interfaces except ones attached to private virtual networks. 
		The maximum number of firewall rules per server is 1000.

## Example Usage

```terraform
# The following example defines a server and then links the server to a single firewall rule. 
# The list of firewall rules applied to the server can be expanded by providing additional server_firewall_rules blocks.

resource "upcloud_server" "example" {
  firewall = true
  hostname = "terraform.example.tld"
  zone     = "de-fra1"
  plan     = "1xCPU-1GB"

  template {
    storage = "Ubuntu Server 20.04 LTS (Focal Fossa)"
    size    = 25
  }

  network_interface {
    type = "utility"
  }

}

resource "upcloud_firewall_rules" "example" {
  server_id = upcloud_server.example.id

  firewall_rule {
    action                 = "accept"
    comment                = "Allow SSH from this network"
    destination_port_end   = "22"
    destination_port_start = "22"
    direction              = "in"
    family                 = "IPv4"
    protocol               = "tcp"
    source_address_end     = "192.168.1.255"
    source_address_start   = "192.168.1.1"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required Attributes

- `server_id` (String) The unique id of the server to be protected the firewall rules

### Blocks

- `firewall_rule` (Block List, Min: 1, Max: 1000) A single firewall rule.
				If used, IP address and port ranges must have both start and end values specified. These can be the same value if only one IP address or port number is specified.
				Source and destination port numbers can only be set if the protocol is TCP or UDP.
				The ICMP type may only be set if the protocol is ICMP.
				Typical firewall rule should have "action", "direction", "protocol", "family" and at least one destination/source-address/port range.
				The default rule can be created by providing only "action" and "direction" attributes. Default rule should be defined last. (see [below for nested schema](#nestedblock--firewall_rule))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--firewall_rule"></a>
### Nested Schema for `firewall_rule`

Required Attributes:

- `action` (String) Action to take if the rule conditions are met. Valid values `accept | drop`
- `direction` (String) The direction of network traffic this rule will be applied to

Optional Attributes:

- `comment` (String) Freeform comment string for the rule
- `destination_address_end` (String) The destination address range ends from this address
- `destination_address_start` (String) The destination address range starts from this address
- `destination_port_end` (String) The destination port range ends from this port number
- `destination_port_start` (String) The destination port range starts from this port number
- `family` (String) The address family of new firewall rule
- `icmp_type` (String) The ICMP type
- `protocol` (String) The protocol this rule will be applied to
- `source_address_end` (String) The source address range ends from this address
- `source_address_start` (String) The source address range starts from this address
- `source_port_end` (String) The source port range ends from this port number
- `source_port_start` (String) The source port range starts from this port number

## Import

Import is supported using the following syntax:

```shell
terraform import upcloud_firewall_rules.my_example_rules 049d7ca2-757e-4fb1-a833-f87ee056547a
```
