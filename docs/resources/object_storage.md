---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "upcloud_object_storage Resource - terraform-provider-upcloud"
subcategory: ""
description: |-
  ~> The upcloud_object_storage resource manages previous generatation object storage instances that will reach end of life (EOL) by the end of 2024. For new instances, consider using the new Object Storage product managed with upcloud_managed_object_storage resource.
  This resource represents an UpCloud Object Storage instance, which provides S3 compatible storage.
---

# upcloud_object_storage (Resource)

~> The `upcloud_object_storage` resource manages previous generatation object storage instances that will reach end of life (EOL) by the end of 2024. For new instances, consider using the new Object Storage product managed with `upcloud_managed_object_storage` resource.

This resource represents an UpCloud Object Storage instance, which provides S3 compatible storage.

## Example Usage

```terraform
# Object storage instance called storage-name in the fi-hel2 zone, with 2 buckets called "products" and "images".
resource "upcloud_object_storage" "my_object_storage" {
  size        = 250            # allocate up to 250GB of storage
  name        = "storage-name" # the instance name, will form part of the url used to access the storage instance so must conform to host naming rules.
  zone        = "fi-hel2"      # The zone in wgich to create the instance
  access_key  = "admin"        # The access key/username used to access the storage instance
  secret_key  = "changeme"     # The secret key/password used to access the storage instance
  description = "catalogue"

  # Create a bucket called "products"
  bucket {
    name = "products"
  }

  # Create a bucket called "images"
  bucket {
    name = "images"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access_key` (String) The access key used to identify user.
				Can be set to an empty string, which will tell the provider to get the access key from environment variable.
				The environment variable should be "UPCLOUD_OBJECT_STORAGE_ACCESS_KEY_{name}".
				{name} is the name given to object storage instance (so not the resource label), it should be all uppercased
				and all dashes (-) should be replaced with underscores (_). For example, object storage named "my-files" would
				use environment variable named "UPCLOUD_OBJECT_STORAGE_ACCESS_KEY_MY_FILES".
- `name` (String) The name of the object storage instance to be created
- `secret_key` (String) The secret key used to authenticate user.
				Can be set to an empty string, which will tell the provider to get the secret key from environment variable.
				The environment variable should be "UPCLOUD_OBJECT_STORAGE_SECRET_KEY_{name}".
				{name} is the name given to object storage instance (so not the resource label), it should be all uppercased
				and all dashes (-) should be replaced with underscores (_). For example, object storage named "my-files" would
				use environment variable named "UPCLOUD_OBJECT_STORAGE_SECRET_KEY_MY_FILES".
- `size` (Number) The size of the object storage instance in gigabytes
- `zone` (String) The zone in which the object storage instance will be created, e.g. `de-fra1`. You can list available zones with `upctl zone list`.

### Optional

- `bucket` (Block Set) (see [below for nested schema](#nestedblock--bucket))
- `description` (String) The description of the object storage instance to be created

### Read-Only

- `created` (String)
- `id` (String) The ID of this resource.
- `state` (String)
- `url` (String)
- `used_space` (Number)

<a id="nestedblock--bucket"></a>
### Nested Schema for `bucket`

Required:

- `name` (String) The name of the bucket

## Import

Import is supported using the following syntax:

```shell
# For object storage import to work properly, you need to set environment variables for access and secret key.
# The environment variables names are UPCLOUD_OBJECT_STORAGE_ACCESS_KEY_{name} and UPCLOUD_OBJECT_STORAGE_SECRET_KEY_{name}
# where {name} is the name of your object storage instance (not the resource label!), all uppercased, and with all dashes (-)
# replaced with underscores (_). So importing an object storage that is named "my-storage" will look like this:

UPCLOUD_OBJECT_STORAGE_ACCESS_KEY_MY_STORAGE=accesskey \
UPCLOUD_OBJECT_STORAGE_SECRET_KEY_MY_STORAGE=supersecret \
terraform import upcloud_object_storage.example_storage 06c1f4b6-faf2-47d0-8896-1d941092b009
```
